{"version":3,"sources":["webpack:///./src/js/bill-pay/bill-pay-list.component.js?b8b1"],"names":["components","template","data","bills","billToDelete","modal","id","created","query","then","response","$","document","ready","methods","removeBill","delete","$remove","Materialize","toast","$dispatch","openModalDelete","bill","alert"],"mappings":";;;;;;;;;;;AAAA;;AACA;;;;;;mBAEe;AACXA,iBAAY;AACR;AADQ,MADD;AAIXC,+2EAJW;AAuDXC,SAvDW,kBAuDJ;AACH,gBAAO;AACHC,oBAAO,EADJ;AAEHC,2BAAc,IAFX;AAGHC,oBAAO;AACHC,qBAAI;AADD;AAHJ,UAAP;AAOH,MA/DU;AAgEXC,YAhEW,qBAgED;AAAA;;AACN,iCAAaC,KAAb,GAAqBC,IAArB,CAA0B,UAACC,QAAD,EAAc;AACpC,mBAAKP,KAAL,GAAaO,SAASR,IAAtB;AACH,UAFD;AAGAS,WAAEC,QAAF,EAAYC,KAAZ,CAAkB,YAAU;AACxBF,eAAE,QAAF,EAAYN,KAAZ;AACH,UAFD;AAGH,MAvEU;;AAwEXS,cAAS;AACLC,mBADK,wBACQ;AAAA;;AACT,qCAAaC,MAAb,CAAoB,EAACV,IAAK,KAAKF,YAAL,CAAkBE,EAAxB,EAApB,EAAiDG,IAAjD,CAAsD,UAACC,QAAD,EAAc;AAChE,wBAAKP,KAAL,CAAWc,OAAX,CAAmB,OAAKb,YAAxB;AACA,wBAAKA,YAAL,GAAoB,IAApB;AACAc,6BAAYC,KAAZ,CAAkB,6BAAlB,EAAiD,IAAjD;AACA,wBAAKC,SAAL,CAAe,aAAf;AACH,cALD;AAMH,UARI;AASLC,wBATK,2BASWC,IATX,EASiB;AAClBC,mBAAM,OAAN;AACA,kBAAKnB,YAAL,GAAoBkB,IAApB;AACAX,eAAE,eAAF,EAAmBN,KAAnB,CAAyB,MAAzB;AACH;AAbI;AAxEE,E","file":"0.55c986a03c84ea72e520.hot-update.js","sourcesContent":["import {BillResource} from '../resources';\nimport ModalComponent from '../modal.component';\n\nexport default {\n    components :{\n        'modal': ModalComponent\n    },\n    template: `\n    <div class=\"container\">\n        <div class=\"row\">\n            <h2>Minhas contas a pagar</h2>\n            <div class=\"col s12\">\n                <table class=\"bordered striped highlight centered responsive-table\">\n                    <thead>\n                        <tr>\n                            <th>#</th>\n                            <th>Vencimento</th>\n                            <th>Nome</th>\n                            <th>Valor</th>\n                            <th>Paga?</th>\n                            <th>Ações</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr v-for=\"(index,o) in bills\">\n                            <td>{{ index + 1 }}</td>\n                            <td>{{ o.date_due | dateFormat }}</td>\n                            <td>{{ o.name }}</td>\n                            <td>{{ o.value | numberFormat 'R$ ' 2 }}</td>\n                            <td class=\"white-text\" :class=\"{ 'green lighten-2' : o.done, 'red lighten-2' : !o.done }\">\n                                {{ o.done | doneLabel }}\n                            </td>\n                            <td>\n                                <a v-link=\"{ name : 'bill-pay.update', params: { id : o.id } }\">Editar</a> |\n                                <a href=\"#\" @click.prevent=\"openModalDelete(o)\">Excluir</a>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n    <modal :modal=\"modal\">\n        <div slot=\"content\" v-if=\"billToDelete\">\n            <h4>Mensagem de confirmação</h4>\n            <p><strong>Deseja excluir esta conta?</strong></p>\n            <div class=\"divider\"></div>\n            <p>Nome: <strong>{{ billToDelete.name }}</strong></p>\n            <p>Valor: <strong>{{ billToDelete.value | numberFormat }}</strong></p>\n            <p>Data de vencimento: <strong>{{ billToDelete.date_due | dateFormat }}</strong></p>\n        </div>\n        <div slot=\"footer\">\n            <button class=\"btn btn-flat waves-effect green lighten-2 modal-action modal-close\" \n                    @click=\"removeBill()\">OK</button>\n            <button class=\"btn btn-flat waves-effect waves-red modal-close modal-action\">Cancelar</button>\n        </div>\n    </modal>\n    `,\n    data() {\n        return {\n            bills: [],\n            billToDelete: null,\n            modal: {\n                id: 'modal-delete'\n            },\n        };\n    },\n    created() {\n        BillResource.query().then((response) => {\n            this.bills = response.data;\n        });\n        $(document).ready(function(){\n            $('.modal').modal();\n        });\n    },\n    methods: {\n        removeBill() {\n            BillResource.delete({id : this.billToDelete.id}).then((response) => {\n                this.bills.$remove(this.billToDelete);\n                this.billToDelete = null;\n                Materialize.toast('Conta excluída com sucesso!', 4000);\n                this.$dispatch('change-info');\n            });\n        },\n        openModalDelete(bill) {\n            alert('teste');\n            this.billToDelete = bill;\n            $('#modal-delete').modal('open');\n        }\n    }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/js/bill-pay/bill-pay-list.component.js"],"sourceRoot":""}